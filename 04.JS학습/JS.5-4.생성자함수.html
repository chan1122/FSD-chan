<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>JS.5-4.생성자 함수</title>

    <script>
      /*
            [ 생성자 함수란? ]
            - 쉽게 말해서 함수를 이용해서 객체를 생성한느 템플릿이다!

            -객체도 객체 리터럴을 통해 쉽게 만들 수 있지만 데이터의 분량만큼 객체를 형시게 맞게 생성해야하는
            불편함이 있다
            그리고 이것을 해결하기 위해 나온것이

            -> 생성자 함수이다!

            (*객체 리터럴!) 이란 변수에 중괄호를 할당하여 바로 객체를 생성하는 방법을 객체 리터럴이라고 한다

            객체를 생성하는 방법 -> 변수={}

            중괄호를 대괄호로 바꾸면 !!!
            변수 = [] 배열리터럴 !!

            -생성자 함수는 일반함수와 만드는 방법은 동일하다
            -차이점은 아래 6가지이다!

            1. 함수명은 일반함수와 구분하기 위해 첫글자를 대문자로 씀


            2. 템플릿 속성명에 해당하는 변수를 모두 this키워드로 등록하여 인스턴스를 생성한 경우 접근할수 있도록 한다!
            (this 키워드로 등록하지 않으면 new키워드 생성후 변수에 접근할수없다!)


            3. 데이터 셋팅 및 호출을 위해 new키워드로 생성자 함수를 변수에 할당한다!(인스턴스를 생성함!)

            4. 값의 셋팅은 일반함수에 호출시 전달값 주는 것과 같다
            5. 셋팅된 값은 함수에서 this키워드로 등록된 변수를
            아래의 형태로 호출할수 있다
            -> 생성자함수.변수명

            6. 생성자함수엔 보통 return문이 없다 이유는 기본적으로 this키워드에 저장된 정보가 자동으로 return되기 떄문이다.
            따라서 return문을 명시적으로 써줄 필요가 없다!
            (만약 return을 쓰게되면 객체일 경우 객체만 반환이 되고
            그냥 return키워드만 쓰게 되면 자동으로 this가 반환됨!)


        */

      /*

            객체 모델:
            1 . 속성 5가지-제목,개요,감독,출연,문구

            2 . 함수 1가지-실행함수

            {
                제목:"",
                개요:"",
                감독:"",
                출연:"",
                문구:"",
                함수:function(){!코드!}
            }

        */

      // 생성자 함수 만들기
      // 함수명: MovieInfo
      // 전달변수: tit,sum,dir,act,des()
      function MovieInfo(tit, sum, dir, act, des) {
        // 속성 5가지 셋팅!!!
        this.제목 = tit;
        this.개요 = sum;
        this.감독 = dir;
        this.출연 = act;
        this.문구 = des;


        // 메서드 1가지 셋팅
        this.함수 = () =>
            `영화${this.제목} 의 감독님 이름은 ${this.감독}이다`;

            // 중괄호까지 생략해야 화갈표함수와 return키워드가 
            // 생략된것이다!




      }; ///////  MovieInfo 함수 ////////


      document.write("<h1>JS5-4.생성자 함수</h1>");


      // 1 . 생성자 함수로 객체 만들기
      const mi1 = new MovieInfo("조제","멜로/로맨스, 드라마","김종관","한지민, 남주혁","조제 보러 오세요")

      // 2 .  생성자 함수로 만든 객체 확인 하기!
      console.log("mi1이 객체인지 확인:",mi1);


      // 3 . 만들어진 객체들을 화면애 출력 : 객체니까 forin문을 사용한다!
      for(let x in mi1){  /// x는 속성명, mi1[x] - 속성값
        document.write(`<h2>${x} : ${mi1[x]}</h2>`);
      }/////// for in ////////

      // 4 . 객체 메서드 호출!
      document.write(mi1.함수())
      ///////////////////////////////////////////////////

      // 객체 생성 연습!
      // 나름의 연화 정보 데이터를 생성자 함수에 보내어 객체를 
      // 생성해 보자!
      
      // 생성자 함수를 변수에 할당!
      const mi2 = new MovieInfo("주","주찬","주찬우","주찬우주","주찬우주찬")

      // 객체 확인 
      console.log("객체인지 확인! : ", mi2);

      // 객체 확인 후 화면에 출력하기 
      document.write("<hr>")

      // for in 으로 출력
      for(let x in mi2){
        document.write(`<h2>${x} : ${mi2[x]}</h2>`)
      }

      // 함수 호출하여 화면에 출력하기 ! 
      document.write(`<h2> ${mi2.함수()}</h2>`);
    </script>
  </head>

  <body></body>
</html>
